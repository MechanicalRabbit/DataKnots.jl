<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · DataKnots.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DataKnots.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../tutorial/">Tutorial</a></li><li class="current"><a class="toctext" href>Reference</a><ul class="internal"></ul></li></ul></li><li><span class="toctext">Concepts</span><ul><li><a class="toctext" href="../primer/">Primer</a></li><li><a class="toctext" href="../vectors/">Column Store</a></li><li><a class="toctext" href="../pipelines/">Pipeline Algebra</a></li><li><a class="toctext" href="../shapes/">Shapes and Signatures</a></li><li><a class="toctext" href="../knots/">Data Knots</a></li><li><a class="toctext" href="../queries/">Query Algebra</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Reference</a></li></ul><a class="edit-page" href="https://github.com/rbt-lang/DataKnots.jl/blob/master/doc/src/reference.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Reference</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Reference-1" href="#Reference-1">Reference</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.It" href="#DataKnots.It"><code>DataKnots.It</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><pre><code class="language-julia">It :: AbstractQuery</code></pre><p>In a query expression, use <code>It</code> to refer to the query&#39;s input.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(3) &gt;&gt; (It .+ 1)]
│ It │
┼────┼
│  4 │</code></pre><p><code>It</code> is the identity with respect to query composition.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&#39;a&#39;:&#39;c&#39;) &gt;&gt; It]
  │ It │
──┼────┼
1 │ a  │
2 │ b  │
3 │ c  │</code></pre><p><code>It</code> provides a shorthand notation for data navigation using <code>Get</code>, so that <code>It.a.x</code> is equivalent to <code>Get(:a) &gt;&gt; Get(:x)</code>.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift((a=(x=1,y=2),)) &gt;&gt; It.a]
│ a    │
│ x  y │
┼──────┼
│ 1  2 │

julia&gt; unitknot[Lift((a=(x=1,y=2),)) &gt;&gt; It.a.x]
│ x │
┼───┼
│ 1 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L72-L110">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.DataKnot" href="#DataKnots.DataKnot"><code>DataKnots.DataKnot</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">convert(DataKnot, val)</code></pre><p>This converter wraps a given value so that it could be used to start a query.</p><p>The unit knot holds the value <code>nothing</code>.</p><pre><code class="language-julia-repl">julia&gt; convert(DataKnot, nothing)
│ It │
┼────┼
│    │</code></pre><p>An empty knot can be constructed with <code>missing</code>.</p><pre><code class="language-julia-repl">julia&gt; convert(DataKnot, missing)
│ It │
┼────┼</code></pre><p>A plural knot is constructed from a vector.</p><pre><code class="language-julia-repl">julia&gt; convert(DataKnot, &#39;a&#39;:&#39;c&#39;)
  │ It │
──┼────┼
1 │ a  │
2 │ b  │
3 │ c  │</code></pre><p>It&#39;s often useful to wrap a dataset in a one-field tuple.</p><pre><code class="language-julia-repl">julia&gt; convert(DataKnot, (dataset=&#39;a&#39;:&#39;c&#39;,))
│ dataset │
┼─────────┼
│ a; b; c │</code></pre><hr/><pre><code class="language-julia">get(::DataKnot)</code></pre><p>Use <code>get</code> to extract the underlying value held by a knot.</p><pre><code class="language-julia-repl">julia&gt; get(convert(DataKnot, &quot;Hello World&quot;))
&quot;Hello World&quot;</code></pre><hr/><pre><code class="language-julia">getindex(::DataKnot, X; kwargs...)</code></pre><p>We can query a knot using array indexing notation.</p><pre><code class="language-julia-repl">julia&gt; convert(DataKnot, (dataset=&#39;a&#39;:&#39;c&#39;,))[Count(It.dataset)]
│ It │
┼────┼
│  3 │</code></pre><p>Query parameters are provided as keyword arguments.</p><pre><code class="language-julia-repl">julia&gt; convert(DataKnot, 1:3)[PWR=2, It .^ It.PWR]
  │ It │
──┼────┼
1 │  1 │
2 │  4 │
3 │  9 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/knots.jl#L16-L93">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Count-Tuple{Any}" href="#DataKnots.Count-Tuple{Any}"><code>DataKnots.Count</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Count(X) :: Query</code></pre><p>In the combinator form, <code>Count(X)</code> emits the number of elements produced by <code>X</code>.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(&#39;a&#39;:&#39;c&#39;);

julia&gt; unitknot[Count(X)]
│ It │
┼────┼
│  3 │</code></pre><hr/><pre><code class="language-julia">Each(X &gt;&gt; Count) :: Query</code></pre><p>In the query form, <code>Count</code> emits the number of elements in its input.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(&#39;a&#39;:&#39;c&#39;);

julia&gt; unitknot[X &gt;&gt; Count]
│ It │
┼────┼
│  3 │</code></pre><p>To limit the scope of aggregation, use <code>Each</code>.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(&#39;a&#39;:&#39;c&#39;);

julia&gt; unitknot[Lift(1:3) &gt;&gt; Each(X &gt;&gt; Count)]
  │ It │
──┼────┼
1 │  3 │
2 │  3 │
3 │  3 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L1072-L1114">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Drop-Tuple{Any}" href="#DataKnots.Drop-Tuple{Any}"><code>DataKnots.Drop</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Drop(N) :: Query</code></pre><p>This query drops the first <code>N</code> elements of its input, preserving the rest.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&#39;a&#39;:&#39;c&#39;) &gt;&gt; Drop(2)]
  │ It │
──┼────┼
1 │ c  │</code></pre><p><code>Drop(-N)</code> takes the last <code>N</code> elements.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&#39;a&#39;:&#39;c&#39;) &gt;&gt; Drop(-2)]
  │ It │
──┼────┼
1 │ b  │
2 │ c  │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L1394-L1416">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Each-Tuple{Any}" href="#DataKnots.Each-Tuple{Any}"><code>DataKnots.Each</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Each(X) :: Query</code></pre><p>This evaluates <code>X</code> elementwise.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(&#39;a&#39;:&#39;c&#39;) &gt;&gt; Count;

julia&gt; unitknot[Lift(1:3) &gt;&gt; Each(X)]
  │ It │
──┼────┼
1 │  3 │
2 │  3 │
3 │  3 │</code></pre><p>Compare this with the query without <code>Each</code>.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(&#39;a&#39;:&#39;c&#39;) &gt;&gt; Count;

julia&gt; unitknot[Lift(1:3) &gt;&gt; X]
│ It │
┼────┼
│  9 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L702-L728">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Filter-Tuple{Any}" href="#DataKnots.Filter-Tuple{Any}"><code>DataKnots.Filter</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Filter(X) :: Query</code></pre><p>This query emits the elements from its input that satisfy a given condition.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(1:5) &gt;&gt; Filter(isodd.(It))]
  │ It │
──┼────┼
1 │  1 │
2 │  3 │
3 │  5 │</code></pre><p>When the predicate query produces an empty output, the condition is presumed to have failed.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&#39;a&#39;:&#39;c&#39;) &gt;&gt; Filter(missing)]
│ It │
┼────┼</code></pre><p>When the predicate produces plural output, the condition succeeds if at least one output value is <code>true</code>.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&#39;a&#39;:&#39;c&#39;) &gt;&gt; Filter([true,false])]
  │ It │
──┼────┼
1 │ a  │
2 │ b  │
3 │ c  │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L1299-L1334">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Get-Tuple{Any}" href="#DataKnots.Get-Tuple{Any}"><code>DataKnots.Get</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Get(lbl::Symbol) :: Query</code></pre><p>This query extracts a field value by its label.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift((x=1, y=2)) &gt;&gt; Get(:x)]
│ x │
┼───┼
│ 1 │</code></pre><p>This has a shorthand form using <code>It</code>.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift((x=1, y=2)) &gt;&gt; It.x]
│ x │
┼───┼
│ 1 │</code></pre><p>With unlabeled fields, ordinal labels (A, B, ...) can be used.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift((1,2)) &gt;&gt; It.B]
│ It │
┼────┼
│  2 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L834-L863">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Given-Tuple{Any,Vararg{Any,N} where N}" href="#DataKnots.Given-Tuple{Any,Vararg{Any,N} where N}"><code>DataKnots.Given</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Given(X₁, X₂ … Xₙ, Q) :: Query</code></pre><p>This evaluates <code>Q</code> in a context augmented with named parameters added by a set of queries.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Given(:x =&gt; 2, It.x .+ 1)]
│ It │
┼────┼
│  3 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L1015-L1027">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Keep-Tuple{Any,Vararg{Any,N} where N}" href="#DataKnots.Keep-Tuple{Any,Vararg{Any,N} where N}"><code>DataKnots.Keep</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Keep(X₁, X₂ … Xₙ) :: Query</code></pre><p><code>Keep</code> evaluates named queries, making their results available for subsequent computation.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Keep(:x =&gt; 2) &gt;&gt; It.x]
│ x │
┼───┼
│ 2 │</code></pre><p><code>Keep</code> does not otherwise change its input.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(1) &gt;&gt; Keep(:x =&gt; 2) &gt;&gt; (It .+ It.x)]
│ It │
┼────┼
│  3 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L972-L993">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Label-Tuple{Symbol}" href="#DataKnots.Label-Tuple{Symbol}"><code>DataKnots.Label</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Label(lbl::Symbol) :: Query</code></pre><p>This assigns a label to the output.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&quot;Hello World&quot;) &gt;&gt; Label(:greeting)]
│ greeting    │
┼─────────────┼
│ Hello World │</code></pre><p>A label could also be assigned using the <code>=&gt;</code> operator.</p><pre><code class="language-julia-repl">julia&gt; unitknot[:greeting =&gt; Lift(&quot;Hello World&quot;)]
│ greeting    │
┼─────────────┼
│ Hello World │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L739-L759">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Lift-Tuple{Any,Tuple}" href="#DataKnots.Lift-Tuple{Any,Tuple}"><code>DataKnots.Lift</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Lift(f, (X₁, X₂ … Xₙ)) :: Query</code></pre><p><code>Lift</code> lets you use a function as a query combinator.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift((x=1, y=2)) &gt;&gt; Lift(+, (It.x, It.y))]
│ It │
┼────┼
│  3 │</code></pre><p><code>Lift</code> is implicitly used when a function is broadcast over queries.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift((x=1, y=2)) &gt;&gt; (It.x .+ It.y)]
│ It │
┼────┼
│  3 │</code></pre><p>Functions accepting a <code>AbstractVector</code> can be used with plural queries.</p><pre><code class="language-julia-repl">julia&gt; unitknot[sum.(Lift(1:3))]
│ It │
┼────┼
│  6 │</code></pre><p>Functions returning <code>AbstractVector</code> become plural queries.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift((x=&#39;a&#39;, y=&#39;c&#39;)) &gt;&gt; Lift(:, (It.x, It.y))]
  │ It │
──┼────┼
1 │ a  │
2 │ b  │
3 │ c  │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L593-L635">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Lift-Tuple{Any}" href="#DataKnots.Lift-Tuple{Any}"><code>DataKnots.Lift</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Lift(val) :: Query</code></pre><p>This converts any value to a constant query.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&quot;Hello&quot;)]
│ It    │
┼───────┼
│ Hello │</code></pre><p><code>AbstractVector</code> objects become plural queries.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&#39;a&#39;:&#39;c&#39;)]
  │ It │
──┼────┼
1 │ a  │
2 │ b  │
3 │ c  │</code></pre><p>To specify the vector cardinality, add <code>:x0to1</code>, <code>:x0toN</code>, <code>:x1to1</code>, or <code>:x1toN</code>.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&#39;a&#39;:&#39;c&#39;, :x1toN)]
  │ It │
──┼────┼
1 │ a  │
2 │ b  │
3 │ c  │</code></pre><p>The <code>missing</code> value makes an query with no output.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(missing)]
│ It │
┼────┼</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L544-L586">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Max-Tuple{Any}" href="#DataKnots.Max-Tuple{Any}"><code>DataKnots.Max</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia"> Max(X) :: Query</code></pre><p>In the combinator form, <code>Max(X)</code> finds the maximum among the elements produced by <code>X</code>.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(1:3);

julia&gt; unitknot[Max(X)]
│ It │
┼────┼
│  3 │</code></pre><p>The <code>Max</code> of an empty input is empty.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Max(Int[])]
│ It │
┼────┼</code></pre><hr/><pre><code class="language-julia">Each(X &gt;&gt; Max) :: Query</code></pre><p>In the query form, <code>Max</code> finds the maximum of its input elements.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(1:3);

julia&gt; unitknot[X &gt;&gt; Max]
│ It │
┼────┼
│  3 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L1171-L1208">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Min-Tuple{Any}" href="#DataKnots.Min-Tuple{Any}"><code>DataKnots.Min</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia"> Min(X) :: Query</code></pre><p>In the combinator form, <code>Min(X)</code> finds the minimum among the elements produced by <code>X</code>.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(1:3);

julia&gt; unitknot[Min(X)]
│ It │
┼────┼
│  1 │</code></pre><p>The <code>Min</code> of an empty input is empty.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Min(Int[])]
│ It │
┼────┼</code></pre><hr/><pre><code class="language-julia">Each(X &gt;&gt; Min) :: Query</code></pre><p>In the query form, <code>Min</code> finds the minimum of its input elements.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(1:3);

julia&gt; unitknot[X &gt;&gt; Min]
│ It │
┼────┼
│  1 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L1215-L1252">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Record-Tuple" href="#DataKnots.Record-Tuple"><code>DataKnots.Record</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Record(X₁, X₂ … Xₙ) :: Query</code></pre><p><code>Record(X₁, X₂ … Xₙ)</code> emits records whose fields are generated by <code>X₁</code>, <code>X₂</code> … <code>Xₙ</code>.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(1:3) &gt;&gt; Record(It, It .* It)]
  │ #A  #B │
──┼────────┼
1 │  1   1 │
2 │  2   4 │
3 │  3   9 │</code></pre><p>Field labels are inherited from queries.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(1:3) &gt;&gt; Record(:x =&gt; It,
                                    :x² =&gt; It .* It)]
  │ x  x² │
──┼───────┼
1 │ 1   1 │
2 │ 2   4 │
3 │ 3   9 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L481-L507">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Sum-Tuple{Any}" href="#DataKnots.Sum-Tuple{Any}"><code>DataKnots.Sum</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Sum(X) :: Query</code></pre><p>In the combinator form, <code>Sum(X)</code> emits the sum of elements produced by <code>X</code>.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(1:3);

julia&gt; unitknot[Sum(X)]
│ It │
┼────┼
│  6 │</code></pre><p>The <code>Sum</code> of an empty input is <code>0</code>.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Sum(Int[])]
│ It │
┼────┼
│  0 │</code></pre><hr/><pre><code class="language-julia">Each(X &gt;&gt; Sum) :: Query</code></pre><p>In the query form, <code>Sum</code> emits the sum of input elements.</p><pre><code class="language-julia-repl">julia&gt; X = Lift(1:3);

julia&gt; unitknot[X &gt;&gt; Sum]
│ It │
┼────┼
│  6 │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L1126-L1164">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Tag-Tuple{Symbol,Any}" href="#DataKnots.Tag-Tuple{Symbol,Any}"><code>DataKnots.Tag</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Tag(name::Symbol, F) :: Query</code></pre><p>This provides a substitute name for a query.</p><pre><code class="language-julia-repl">julia&gt; IncIt = It .+ 1
It .+ 1

julia&gt; IncIt = Tag(:IncIt, It .+ 1)
IncIt</code></pre><hr/><pre><code class="language-julia">Tag(name::Symbol, (X₁, X₂ … Xₙ), F) :: Query</code></pre><p>This provides a substitute name for a query combinator.</p><pre><code class="language-julia-repl">julia&gt; Inc(X) = Lift(+, (X, 1));

julia&gt; Inc(It)
Lift(+, (It, 1))

julia&gt; Inc(X) = Tag(:Inc, (X,), Lift(+, (X, 1)));

julia&gt; Inc(It)
Inc(It)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L774-L804">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DataKnots.Take-Tuple{Any}" href="#DataKnots.Take-Tuple{Any}"><code>DataKnots.Take</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Take(N) :: Query</code></pre><p>This query preserves the first <code>N</code> elements of its input, dropping the rest.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&#39;a&#39;:&#39;c&#39;) &gt;&gt; Take(2)]
  │ It │
──┼────┼
1 │ a  │
2 │ b  │</code></pre><p><code>Take(-N)</code> drops the last <code>N</code> elements.</p><pre><code class="language-julia-repl">julia&gt; unitknot[Lift(&#39;a&#39;:&#39;c&#39;) &gt;&gt; Take(-2)]
  │ It │
──┼────┼
1 │ a  │</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/rbt-lang/DataKnots.jl/blob/fe50db9c652428b2cbdc6c1d3907bb642a6822de/src/queries.jl#L1368-L1390">source</a></section><footer><hr/><a class="previous" href="../tutorial/"><span class="direction">Previous</span><span class="title">Tutorial</span></a><a class="next" href="../primer/"><span class="direction">Next</span><span class="title">Primer</span></a></footer></article></body></html>
