<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Query Algebra · DataKnots.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DataKnots.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">DataKnots.jl</a></li><li><a class="toctext" href="../reference.html">API Reference</a></li><li><a class="toctext" href="index.html">Test Suite</a></li><li class="current"><a class="toctext" href="combinators.html">Query Algebra</a><ul class="internal"></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="combinators.html">Query Algebra</a></li></ul><a class="edit-page" href="https://github.com/rbt-lang/DataKnots.jl/blob/master/test/combinators.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Query Algebra</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Query-Algebra-1" href="#Query-Algebra-1">Query Algebra</a></h1><pre><code class="language-julia">using DataKnots

F = (it .+ 4) &gt;&gt; (it .* 6)
#-&gt; (it .+ 4) &gt;&gt; it .* 6

query(3, F)
#=&gt;
│ DataKnot │
├──────────┤
│       42 │
=#

usedb!(
    @VectorTree (name = [String], employee = [(name = [String], salary = [Int])]) [
        &quot;POLICE&quot;    [&quot;GARRY M&quot; 260004; &quot;ANTHONY R&quot; 185364; &quot;DANA A&quot; 170112]
        &quot;FIRE&quot;      [&quot;JOSE S&quot; 202728; &quot;CHARLES S&quot; 197736]
    ])
#=&gt;
  │ DataKnot                                                   │
  │ name    employee                                           │
──┼────────────────────────────────────────────────────────────┤
1 │ POLICE  GARRY M, 260004; ANTHONY R, 185364; DANA A, 170112 │
2 │ FIRE    JOSE S, 202728; CHARLES S, 197736                  │
=#

query(field(:name))
#=&gt;
  │ name   │
──┼────────┤
1 │ POLICE │
2 │ FIRE   │
=#

query(it.name)
#=&gt;
  │ name   │
──┼────────┤
1 │ POLICE │
2 │ FIRE   │
=#

query(field(:employee) &gt;&gt; field(:salary))
#=&gt;
  │ salary │
──┼────────┤
1 │ 260004 │
2 │ 185364 │
3 │ 170112 │
4 │ 202728 │
5 │ 197736 │
=#

query(it.employee.salary)
#=&gt;
  │ salary │
──┼────────┤
1 │ 260004 │
2 │ 185364 │
3 │ 170112 │
4 │ 202728 │
5 │ 197736 │
=#

query(count(it.employee))
#=&gt;
  │ DataKnot │
──┼──────────┤
1 │        3 │
2 │        2 │
=#

query(count)
#=&gt;
│ DataKnot │
├──────────┤
│        2 │
=#

query(count(it.employee) &gt;&gt; maximum)
#=&gt;
│ DataKnot │
├──────────┤
│ 3        │
=#

query(it.employee &gt;&gt; filter(it.salary .&gt; 200000))
#=&gt;
  │ employee        │
  │ name     salary │
──┼─────────────────┤
1 │ GARRY M  260004 │
2 │ JOSE S   202728 │
=#

query(count(it.employee) .&gt; 2)
#=&gt;
  │ DataKnot │
──┼──────────┤
1 │     true │
2 │    false │
=#

query(filter(count(it.employee) .&gt; 2))
#=&gt;
  │ DataKnot                                                   │
  │ name    employee                                           │
──┼────────────────────────────────────────────────────────────┤
1 │ POLICE  GARRY M, 260004; ANTHONY R, 185364; DANA A, 170112 │
=#

query(filter(count(it.employee) .&gt; 2) &gt;&gt; count)
#=&gt;
│ DataKnot │
├──────────┤
│        1 │
=#</code></pre><footer><hr/><a class="previous" href="queries.html"><span class="direction">Previous</span><span class="title">Query Backend</span></a></footer></article></body></html>
